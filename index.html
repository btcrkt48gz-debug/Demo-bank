<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Premium Bank</title>
<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:'Segoe UI',Roboto,Arial,sans-serif;}
body{background:linear-gradient(180deg,#e6f0ff,#ffffff);color:#07203a;}
.app{max-width:920px;margin:20px auto;background:#fefefe;border-radius:16px;overflow:hidden;box-shadow:0 20px 50px rgba(0,0,0,0.08);}
.header{display:flex;justify-content:space-between;align-items:center;padding:14px 20px;background:linear-gradient(90deg,#0052cc,#1a75ff);color:#fff;border-bottom:1px solid rgba(255,255,255,0.1);}
.header .brand{font-weight:700;font-size:22px;}
.header img{width:44px;height:44px;border-radius:8px;}
.screen{display:none;padding:20px;}
.screen.active{display:block;}
.login-card, .profile-card, .balance-card, .confirm-card{background:#fff;border-radius:16px;padding:24px;box-shadow:0 12px 30px rgba(0,0,0,0.06);margin:20px 0;}
.login-title{font-size:24px;font-weight:800;margin-bottom:12px;text-align:center;color:#07203a;}
.login-sub{margin-bottom:16px;text-align:center;color:#6b7280;font-size:15px;}
.input, .profile-input{width:100%;padding:14px;border-radius:12px;border:1px solid #e6eefc;margin:10px 0;font-size:16px;}
.btn, .profile-btn{width:100%;padding:14px;border:none;border-radius:12px;font-weight:800;color:#fff;background:linear-gradient(90deg,#0052cc,#1a75ff);cursor:pointer;font-size:16px;margin-top:12px;transition:0.2s;}
.btn:hover, .profile-btn:hover{opacity:0.9;}
.tx-list{margin-top:12px;display:flex;flex-direction:column;gap:10px;max-height:320px;overflow-y:auto;}
.tx{background:linear-gradient(180deg,#f8faff,#eef6ff);padding:14px;border-left:6px solid #1a75ff;border-radius:12px;display:flex;justify-content:space-between;align-items:center;cursor:pointer;font-weight:700;transition:0.2s;}
.tx:hover{background:linear-gradient(180deg,#eef6ff,#dce8ff);}
.page-title{font-size:20px;font-weight:800;margin-bottom:12px;text-align:center;color:#07203a;}
.loader{width:64px;height:64px;border-radius:50%;margin:60px auto;position:relative;}
.loader:before,.loader:after{content:"";position:absolute;inset:0;border-radius:50%;}
.loader:before{border:6px solid rgba(26,118,255,0.1);}
.loader:after{border-top-color:#1a75ff;transform:rotate(120deg);animation:spin 1s linear infinite;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;}
@keyframes spin{to{transform:rotate(360deg);}}
.balance-card{background:linear-gradient(90deg,#0077ff,#0b63d8);color:white;padding:24px;margin-bottom:16px;border-radius:16px;box-shadow:0 12px 35px rgba(0,50,150,0.15);}
.balance-card .bal{font-size:32px;font-weight:800;margin-top:10px;}
.bottom-nav{position:fixed;left:0;right:0;bottom:0;display:flex;justify-content:center;padding:10px 0;background:#fff;box-shadow:0 -6px 25px rgba(0,0,0,0.05);}
.nav-item{flex:1;text-align:center;font-weight:700;color:#6b7280;cursor:pointer;padding:12px;font-size:14px;transition:0.2s;}
.nav-item.active{color:#0b63d8;}
.nav-item:hover{color:#1a75ff;}
.profile-pic{width:60px;height:60px;border-radius:50%;object-fit:cover;margin:14px auto;display:block;border:2px solid #1a75ff;}
</style>
</head>
<body>
<div class="app">
  <!-- Header -->
  <div class="header" id="topHeader" style="display:none">
    <div style="display:flex;align-items:center;gap:12px">
      <img src="https://i.ibb.co/XJ3zG2h/bank-logo.png" alt="Logo">
      <div class="brand">Premium Bank</div>
    </div>
    <div id="hdrBalance" style="font-weight:700;font-size:16px;">Balance: $<span id="hdrBal">0</span></div>
  </div>

  <!-- Login Screen -->
  <div id="screen-login" class="screen active">
    <div class="login-card">
      <div class="login-title">Welcome to Premium Bank</div>
      <div class="login-sub">Enter your username & password</div>
      <input id="loginUser" class="input" placeholder="Username"/>
      <input id="loginPass" class="input" type="password" placeholder="Password"/>
      <button class="btn" onclick="doLogin()">Sign In</button>
    </div>
  </div>

  <!-- Dashboard Screen -->
  <div id="screen-dashboard" class="screen">
    <div class="balance-card">
      <div id="greeting">Hello,</div>
      <div id="userName">User</div>
      <div class="bal">$<span id="balance">0</span></div>
    </div>
    <div class="tiles" style="display:flex;flex-direction:column;gap:12px;">
      <button class="profile-btn" onclick="nav('transfer')">Send Money</button>
      <button class="profile-btn" onclick="nav('withdraw')">Withdraw</button>
      <button class="profile-btn" onclick="nav('topup')">Top Up</button>
      <input type="file" id="profilePicInput" accept="image/*"/>
      <img id="profilePic" class="profile-pic" src="" alt="" style="display:none">
    </div>
    <div class="tx-list" id="txPreview"></div>
  </div>

  <!-- Transfer -->
  <div id="screen-transfer" class="screen">
    <div class="profile-card">
      <div class="page-title">Send Money</div>
      <input id="transferTo" class="profile-input" placeholder="Recipient Name">
      <input id="transferAmount" class="profile-input" type="number" placeholder="Amount">
      <button class="profile-btn" onclick="startTransfer()">Continue</button>
    </div>
  </div>

  <!-- Withdraw -->
  <div id="screen-withdraw" class="screen">
    <div class="profile-card">
      <div class="page-title">Withdraw</div>
      <input id="withdrawAmount" class="profile-input" type="number" placeholder="Amount">
      <button class="profile-btn" onclick="startWithdraw()">Continue</button>
    </div>
  </div>

  <!-- Top Up -->
  <div id="screen-topup" class="screen">
    <div class="profile-card">
      <div class="page-title">Top Up</div>
      <input id="topupCard" class="profile-input" placeholder="Card Number">
      <input id="topupAmount" class="profile-input" type="number" placeholder="Amount">
      <button class="profile-btn" onclick="startTopup()">Continue</button>
    </div>
  </div>

  <!-- Loading -->
  <div id="screen-loading" class="screen">
    <div class="loader"></div>
    <div style="text-align:center;margin-top:12px;font-weight:600;">Processing...</div>
  </div>

  <!-- Confirmation -->
  <div id="screen-confirm" class="screen">
    <div class="confirm-card">
      <div class="page-title">Success âœ…</div>
      <div id="confirmMessage" style="margin:12px 0;font-size:16px;"></div>
      <div id="confirmDate" style="opacity:0.7;font-size:14px;"></div>
      <button class="profile-btn" onclick="nav('dashboard')">Back to Dashboard</button>
    </div>
  </div>

  <!-- Bottom Nav -->
  <div class="bottom-nav" id="bottomNav" style="display:none">
    <div class="nav-item" onclick="nav('dashboard')">Home</div>
    <div class="nav-item" onclick="nav('transfer')">Send</div>
    <div class="nav-item" onclick="nav('withdraw')">Withdraw</div>
    <div class="nav-item" onclick="nav('topup')">Top Up</div>
  </div>
</div>

<script>
// State
let balance = Number(localStorage.getItem('balance') || 1000);
let transactions = JSON.parse(localStorage.getItem('transactions')||'[]');

// Login
function doLogin(){
  const user = document.getElementById('loginUser').value || 'David';
  localStorage.setItem('userName',user);
  document.getElementById('userName').innerText=user;
  nav('dashboard');
  showHeader(true);
}

// Nav
function hideAll(){document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'))}
function nav(page){
  hideAll();
  const validScreens=['dashboard','login','transfer','withdraw','topup','loading','confirm'];
  if(!validScreens.includes(page)) page='dashboard';
  document.getElementById('screen-'+page).classList.add('active');
  document.getElementById('hdrBal').innerText=balance;
  document.getElementById('balance').innerText=balance;
  updateTxPreview();
  showHeader(page!=='login');
}

// Show Header
function showHeader(show){
  document.getElementById('topHeader').style.display=show?'flex':'none';
  document.getElementById('bottomNav').style.display=show?'flex':'none';
}

// Transaction Functions
function addTransaction(type,name,amount,status='Completed'){
  const now=new Date();
  const tx={type,name,amount,date:now.toLocaleString(),status};
  transactions.push(tx);
  localStorage.setItem('transactions',JSON.stringify(transactions));
  balance = type==='Top Up'? balance+amount : balance-amount;
  localStorage.setItem('balance',balance);
  updateTxPreview();
}
function startTransfer(){
  const to=document.getElementById('transferTo').value;
  const amount=Number(document.getElementById('transferAmount').value);
  if(!to||!amount){alert('Enter valid details');return;}
  nav('loading');
  setTimeout(()=>{
    addTransaction('Transfer',to,amount);
    document.getElementById('confirmMessage').innerText=`You sent $${amount} to ${to}`;
    document.getElementById('confirmDate').innerText=new Date().toLocaleString();
    nav('confirm');
  },1500);
}
function startWithdraw(){
  const amount=Number(document.getElementById('withdrawAmount').value);
  if(!amount||amount>balance){alert('Invalid amount');return;}
  nav('loading');
  setTimeout(()=>{
    addTransaction('Withdraw','ATM/Bank',amount);
    document.getElementById('confirmMessage').innerText=`You withdrew $${amount}`;
    document.getElementById('confirmDate').innerText=new Date().toLocaleString();
    nav('confirm');
  },1500);
}
function startTopup(){
  const card=document.getElementById('topupCard').value;
  const amount=Number(document.getElementById('topupAmount').value);
  if(!card||!amount){alert('Enter valid details');return;}
  nav('loading');
  setTimeout(()=>{
    addTransaction('Top Up',card,amount);
    document.getElementById('confirmMessage').innerText=`You topped up $${amount} using ${card}`;
    document.getElementById('confirmDate').innerText=new Date().toLocaleString();
    nav('confirm');
  },1500);
}

// Transaction Preview
function updateTxPreview(){
  const c=document.getElementById('txPreview');
  if(!c) return;
  c.innerHTML='';
  transactions.slice(-5).reverse().forEach((t,i)=>{
    const d=document.createElement('div');
    d.className='tx';
    d.innerHTML=`${t.type} - $${t.amount} <span style="font-weight:400;font-size:12px;">(${t.status})</span>`;
    d.onclick=()=>alert(`${t.type} Details:\nName: ${t.name}\nAmount: $${t.amount}\nDate: ${t.date}\nStatus: ${t.status}`);
    c.appendChild(d);
  });
}

// Profile picture
document.getElementById('profilePicInput').addEventListener('change', function(e){
  const file=e.target.files[0];
  if(file){
    const reader=new FileReader();
    reader.onload=function(){ 
      document.getElementById('profilePic').src=reader.result;
      document.getElementById('profilePic').style.display='block';
      localStorage.setItem('profilePic',reader.result);
    };
    reader.readAsDataURL(file);
  }
});

window.onload=function(){
  const pic=localStorage.getItem('profilePic');
  if(pic){
    document.getElementById('profilePic').src=pic;
    document.getElementById('profilePic').style.display='block';
  }
  const user=localStorage.getItem('userName')||'David';
  document.getElementById('userName').innerText=user;
  nav('login');
}
</script>
</body>
</html>