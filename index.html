<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Premium Bank Demo</title>
<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;}
body{background:linear-gradient(180deg,#e0f0ff,#f7f9ff);color:#07203a;min-height:100vh;display:flex;justify-content:center;padding:20px 10px;}
.app{width:100%;max-width:920px;background:#fff;border-radius:14px;box-shadow:0 20px 50px rgba(8,23,48,0.08);overflow:hidden;display:flex;flex-direction:column;position:relative;}
.header{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background:linear-gradient(90deg,#0b63d8,#1a8cff);color:#fff;position:sticky;top:0;z-index:10;}
.h-left{display:flex;align-items:center;gap:12px}
.h-left img{width:40px;height:40px;object-fit:contain;border-radius:6px}
.hamburger{width:44px;height:44px;border-radius:10px;background:rgba(255,255,255,0.12);display:flex;align-items:center;justify-content:center;cursor:pointer}
.brand{font-weight:700;font-size:18px}
.h-right{display:flex;gap:10px;align-items:center}
.icon-btn{width:40px;height:40px;border-radius:50%;background:rgba(255,255,255,0.08);display:flex;align-items:center;justify-content:center;cursor:pointer;font-weight:700;overflow:hidden}
.menu{position:fixed;top:0;left:0;height:100%;width:260px;background:#fff;box-shadow:10px 0 30px rgba(8,23,48,0.06);transform:translateX(-340px);transition:transform .26s cubic-bezier(.2,.9,.2,1);z-index:120;padding:20px;overflow-y:auto;}
.menu.open{transform:translateX(0);}
.menu h3{font-size:16px;margin-bottom:12px;color:#07203a;}
.menu .m-item{padding:12px 8px;border-radius:10px;cursor:pointer;font-weight:700;color:#07203a;margin-bottom:8px;}
.menu .m-item:hover{background:#f2f7ff;}
.screen{padding:18px 20px;display:none;overflow-y:auto;max-height:80vh;}
.screen.active{display:block}
.login-wrap{max-width:520px;margin:36px auto}
.login-card{background:linear-gradient(180deg,#fff,#fbfdff);border-radius:12px;padding:22px;box-shadow:0 12px 30px rgba(10,20,60,0.06);text-align:center}
.login-title{font-size:22px;font-weight:800;margin-bottom:6px;color:#07203a}
.login-sub{color:#6b7280;margin-bottom:14px}
.input{width:100%;padding:12px 14px;margin:8px 0;border-radius:10px;border:1px solid #e6eefc;font-size:15px}
.btn{width:100%;padding:12px 14px;border-radius:10px;border:none;background:#0b63d8;color:#fff;font-weight:800;cursor:pointer;font-size:15px}
.btn.secondary{background:#fff;color:#07203a;border:1px solid #e6eefc;font-weight:800}
.btn.gold{background:#ffc107;color:#07203a;border:none;font-weight:800;cursor:pointer}
.content{display:flex;gap:18px;flex-wrap:wrap;align-items:flex-start;padding-bottom:40px}
.main{flex:1 1 520px;min-width:260px}
.side{width:300px;min-width:220px}
.balance-card{background:linear-gradient(90deg,#0077ff,#0b63d8);color:white;padding:22px;border-radius:14px;margin-bottom:14px;box-shadow:0 10px 30px rgba(10,50,150,0.12)}
.balance-card .greet{font-size:13px;opacity:.95}
.balance-card .bal{font-size:28px;font-weight:800;margin-top:8px}
.account-row{margin-top:14px;background:rgba(255,255,255,0.09);padding:12px;border-radius:10px;display:flex;justify-content:space-between;align-items:center;gap:10px}
.account-id{color:rgba(255,255,255,0.95);font-weight:700}
.tiles{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:14px}
.tile{background:#fff;border-radius:12px;padding:14px;box-shadow:0 10px 30px rgba(10,20,60,0.04);min-width:140px;flex:1 1 140px;text-align:center;cursor:pointer;font-weight:700}
.tile img{width:40px;height:40px;margin-bottom:6px}
.box{background:#fff;border-radius:12px;padding:14px;box-shadow:0 10px 30px rgba(10,20,60,0.04);margin-bottom:14px}
.tx-list{display:flex;flex-direction:column;gap:8px;margin-top:10px}
.tx{background:linear-gradient(180deg,#fbfeff,#f5f9ff);padding:12px;border-radius:10px;border-left:6px solid #1a73e8;display:flex;justify-content:space-between;align-items:center;font-weight:700;cursor:pointer}
.page-title{font-size:18px;font-weight:800;margin-bottom:10px}
.confirm-card{background:#fff;padding:18px;border-radius:12px;box-shadow:0 10px 30px rgba(10,20,60,0.04);text-align:center}
.loader{width:64px;height:64px;border-radius:50%;margin:18px auto;position:relative}
.loader:before,.loader:after{content:"";position:absolute;inset:0;border-radius:50%}
.loader:before{border:6px solid rgba(11,99,216,0.08)}
.loader:after{border-top-color:#0b63d8;transform:rotate(120deg);animation:spin 1s linear infinite;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent}
@keyframes spin{to{transform:rotate(360deg)}}
.bottom-nav{position:fixed;left:0;right:0;bottom:0;display:flex;gap:6px;justify-content:center;padding:10px 12px;background:#fff;box-shadow:0 8px 30px rgba(8,23,48,0.08);border-radius:14px;margin:0 12px;}
.nav-item{flex:1 1 0;text-align:center;padding:6px 8px;cursor:pointer;color:#6b7280;font-weight:700}
.nav-item.active{color:#0b63d8}
.center-fab{width:56px;height:56px;border-radius:50%;background:#0b63d8;color:#fff;display:flex;align-items:center;justify-content:center;margin-top:-24px;box-shadow:0 8px 26px rgba(11,99,216,0.2);cursor:pointer;font-weight:800}
.small{color:#6b7280;font-size:13px}
.profile-pic{width:80px;height:80px;border-radius:50%;object-fit:cover;margin-bottom:6px}
@media(max-width:720px){.side{width:100%}.content{padding-bottom:120px}.balance-card .bal{font-size:24px}.menu{width:86%;max-width:320px}}
</style>
</head>
<body>
<div id="sideMenu" class="menu" aria-hidden="true">
  <h3>Premium Bank</h3>
  <div class="m-item" onclick="nav('dashboard')">Dashboard</div>
  <div class="m-item" onclick="nav('transactions')">Transactions</div>
  <div class="m-item" onclick="nav('profile')">Profile & Settings</div>
  <div class="m-item" onclick="doLogout()">Logout</div>
</div>

<div class="app" id="appRoot">
  <div id="topHeader" class="header" style="display:none">
    <div class="h-left">
      <div id="hambBtn" class="hamburger" title="Menu">â˜°</div>
      <img src="https://via.placeholder.com/40x40?text=B" alt="Logo">
      <div class="brand">Premium Bank</div>
    </div>
    <div class="h-right">
      <div id="hdrBalance" style="font-weight:800">Balance: $<span id="hdrBal">0</span></div>
      <div class="icon-btn" title="Profile" onclick="nav('profile')">ðŸ™‚</div>
    </div>
  </div>

  <!-- LOGIN SCREEN -->
  <div id="screen-login" class="screen active">
    <div class="login-wrap">
      <div class="login-card">
        <img src="https://via.placeholder.com/100x100?text=B" style="margin-bottom:12px">
        <div class="login-title">Welcome to Premium Bank</div>
        <div class="login-sub">Enter your username & password</div>
        <input id="loginUser" class="input" placeholder="Username"/>
        <input id="loginPass" class="input" type="password" placeholder="Password"/>
        <button class="btn" onclick="doLogin()">Sign In</button>
      </div>
    </div>
  </div>

  <!-- DASHBOARD SCREEN -->
  <div id="screen-dashboard" class="screen">
    <div class="content">
      <main class="main">
        <div class="balance-card">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <div class="greet" id="greeting"></div>
              <div style="font-weight:800" id="userName">User</div>
            </div>
            <div style="text-align:right">
              <div class="small">Today</div>
              <div style="font-weight:700" id="liveDateTime"></div>
            </div>
          </div>
          <div class="bal">$<span id="balance">0</span></div>
          <div class="account-row">
            <div>
              <div style="font-size:12px;opacity:.9">Your account</div>
              <div class="account-id">0062â€¢â€¢â€¢â€¢</div>
            </div>
          </div>
        </div>

        <div class="tiles">
          <div class="tile" onclick="nav('transfer')"><img src="https://via.placeholder.com/40?text=S"><br>Send Money</div>
          <div class="tile" onclick="nav('withdraw')"><img src="https://via.placeholder.com/40?text=W"><br>Withdraw</div>
          <div class="tile" onclick="nav('topup')"><img src="https://via.placeholder.com/40?text=T"><br>Top Up</div>
        </div>

        <div class="box">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div style="font-weight:800">Recent Transactions</div>
            <div class="small">Last 5</div>
          </div>
          <div id="txPreview" class="tx-list" style="margin-top:10px"></div>
        </div>
      </main>
    </div>
  </div>

  <!-- TRANSFER SCREEN -->
  <div id="screen-transfer" class="screen">
    <div class="page-title">Send Money</div>
    <div class="box">
      <input id="transferTo" class="input" placeholder="Recipient Name"/>
      <input id="transferAmount" type="number" class="input" placeholder="Amount"/>
      <button class="btn" onclick="startTransfer()">Continue</button>
    </div>
  </div>

  <!-- WITHDRAW SCREEN -->
  <div id="screen-withdraw" class="screen">
    <div class="page-title">Withdraw</div>
    <div class="box">
      <input id="withdrawAmount" type="number" class="input" placeholder="Amount"/>
      <button class="btn" onclick="startWithdraw()">Continue</button>
    </div>
  </div>

  <!-- TOPUP SCREEN -->
  <div id="screen-topup" class="screen">
    <div class="page-title">Top Up</div>
    <div class="box">
      <input id="topupAmount" type="number" class="input" placeholder="Amount"/>
      <button class="btn" onclick="startTopup()">Continue</button>
    </div>
  </div>

  <!-- LOADING SCREEN -->
  <div id="screen-loading" class="screen" style="text-align:center;">
    <div class="loader"></div>
    <div style="margin-top:12px;font-weight:700;">Processing...</div>
  </div>

  <!-- CONFIRMATION SCREEN -->
  <div id="screen-confirm" class="screen">
    <div class="confirm-card">
      <div style="font-size:24px;color:green;">âœ”</div>
      <div style="margin-top:12px;font-weight:700;" id="confirmMessage"></div>
      <div style="margin-top:6px;color:#6b7280;" id="confirmDate"></div>
      <button class="btn" style="margin-top:12px;" onclick="nav('dashboard')">Back to Dashboard</button>
    </div>
  </div>

  <!-- PROFILE SCREEN -->
  <div id="screen-profile" class="screen">
    <div class="page-title">Profile</div>
    <div class="box" style="text-align:center">
      <img id="profilePic" class="profile-pic" src="https://via.placeholder.com/80?text=P" alt="Profile"><br>
      <input type="file" id="profileUpload" onchange="updateProfilePic(event)"><br><br>
      <input id="profileName" class="input" placeholder="Name"><br>
      <input id="profileEmail" class="input" placeholder="Email"><br>
      <input id="profileNumber" class="input" placeholder="Phone Number"><br>
      <button class="btn" onclick="saveProfile()">Save</button>
    </div>
  </div>
</div>

<script>
// Hamburger
const sideMenu = document.getElementById('sideMenu');
const hambBtn = document.getElementById('hambBtn');
hambBtn.addEventListener('click', e=>{e.stopPropagation(); sideMenu.classList.toggle('open'); sideMenu.setAttribute('aria-hidden',!sideMenu.classList.contains('open'))})
document.addEventListener('click', e=>{if(!sideMenu.contains(e.target)&&!hambBtn.contains(e.target)) sideMenu.classList.remove('open');});

// State
let balance = Number(localStorage.getItem('balance')) || 1000;
let transactions = JSON.parse(localStorage.getItem('transactions'))||[];
let userProfile = JSON.parse(localStorage.getItem('userProfile'))||{name:'David',email:'',number:'',pic:'https://via.placeholder.com/80?text=P'};

// Time
function updateTime(){
  const now = new Date();
  const hours = now.getHours();
  let greet = 'Hello';
  if(hours<12) greet='Good morning';
  else if(hours<18) greet='Good afternoon';
  else greet='Good evening';
  document.getElementById('greeting').innerText = greet+',';
  document.getElementById('userName').innerText = userProfile.name;
  document.getElementById('liveDateTime').innerText = now.toLocaleString();
}
setInterval(updateTime,1000);

// Navigation
function hideAll(){document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'))}
function nav(page){
  hideAll();
  if(page==='dashboard') document.getElementById('screen-dashboard').classList.add('active');
  else if(page==='login') document.getElementById('screen-login').classList.add('active');
  else if(page==='transfer') document.getElementById('screen-transfer').classList.add('active');
  else if(page==='withdraw') document.getElementById('screen-withdraw').classList.add('active');
  else if(page==='topup') document.getElementById('screen-topup').classList.add('active');
  else if(page==='loading') document.getElementById('screen-loading').classList.add('active');
  else if(page==='confirm') document.getElementById('screen-confirm').classList.add('active');
  else if(page==='profile') document.getElementById('screen-profile').classList.add('active');
  document.getElementById('hdrBal').innerText = balance.toFixed(2);
  document.getElementById('balance').innerText = balance.toFixed(2);
  updateTxPreview();
  showHeader(page!=='login');
}

function showHeader(show){
  document.getElementById('topHeader').style.display = show?'flex':'none';
}

// Login
function doLogin(){
  localStorage.setItem('demo_b2_logged','1');
  showHeader(true);
  loadProfile();
  nav('dashboard');
}

// Logout
function doLogout(){
  localStorage.removeItem('demo_b2_logged');
  nav('login');showHeader(false);
}

// Transactions
function updateTxPreview(){
  const c = document.getElementById('txPreview');
  c.innerHTML='';
  transactions.slice(-5).reverse().forEach((t,i)=>{
    const d=document.createElement('div');
    d.className='tx';
    d.innerText = `${t.type} $${t.amount}`;
    d.onclick=()=>alert(`${t.type} $${t.amount}\nTo: ${t.to}\nDate: ${t.date}\nStatus: ${t.status}`);
    c.appendChild(d);
  });
}

// Transaction flows
function startTransfer(){
  const to = document.getElementById('transferTo').value;
  const amount = Number(document.getElementById('transferAmount').value);
  if(!to || !amount || amount>balance){alert('Invalid'); return;}
  showLoading(()=>completeTransaction('Send Money', to, amount));
}
function startWithdraw(){
  const amount = Number(document.getElementById('withdrawAmount').value);
  if(!amount || amount>balance){alert('Invalid'); return;}
  showLoading(()=>completeTransaction('Withdraw', 'Self', amount));
}
function startTopup(){
  const amount = Number(document.getElementById('topupAmount').value);
  if(!amount){alert('Invalid'); return;}
  showLoading(()=>completeTransaction('Top Up', 'Account', amount, true));
}

function showLoading(callback){
  nav('loading');
  setTimeout(callback,1200);
}

function completeTransaction(type,to,amount,isTopup=false){
  const date = new Date().toLocaleString();
  if(isTopup) balance += amount;
  else balance -= amount;
  const tx = {type,to,amount:amount.toFixed(2),date,status:'Completed'};
  transactions.push(tx);
  localStorage.setItem('balance', balance);
  localStorage.setItem('transactions', JSON.stringify(transactions));
  document.getElementById('confirmMessage').innerText = `${type} $${amount} ${isTopup?'added':'sent'} to ${to}`;
  document.getElementById('confirmDate').innerText = date;
  nav('confirm');
}

// Profile
function updateProfilePic(e){
  const file = e.target.files[0];
  if(file){
    const reader = new FileReader();
    reader.onload = function(){
      userProfile.pic = reader.result;
      document.getElementById('profilePic').src = userProfile.pic;
      saveProfile();
    }
    reader.readAsDataURL(file);
  }
}
function saveProfile(){
  userProfile.name = document.getElementById('profileName').value;
  userProfile.email = document.getElementById('profileEmail').value;
  userProfile.number = document.getElementById('profileNumber').value;
  localStorage.setItem('userProfile', JSON.stringify(userProfile));
  nav('dashboard');
}
function loadProfile(){
  document.getElementById('profileName').value = userProfile.name;
  document.getElementById('profileEmail').value = userProfile.email;
  document.getElementById('profileNumber').value = userProfile.number;
  document.getElementById('profilePic').src = userProfile.pic;
  document.getElementById('userName').innerText = userProfile.name;
}

// Init
window.onload=()=>{
  const logged = localStorage.getItem('demo_b2_logged')==='1';
  showHeader(logged);
  loadProfile();
  nav(logged?'dashboard':'login');
  updateTime();
};
</script>
</body>
</html>